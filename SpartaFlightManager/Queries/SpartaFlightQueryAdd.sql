--DROP DATABASE IF EXISTS SpartaFlight
--IF DB_ID('SpartaFlightManager') IS NULL
CREATE DATABASE SpartaFlight

GO
CREATE TABLE SpartaFlight.dbo.Planes(
planeId int NOT NULL IDENTITY(1,1) PRIMARY KEY,
planeModel varchar(30) NOT NULL,
capacity int) 

CREATE TABLE SpartaFlight.dbo.Pilots(
pilotId int NOT NULL IDENTITY(1,1) PRIMARY KEY,
title varchar(6),
firstName varchar(20) NOT NULL,
lastName varchar(20) NOT NULL,
photoLink varchar(60) NOT NULL)

CREATE TABLE SpartaFlight.dbo.FlightStatuses(
flightStatusId int NOT NULL IDENTITY(1,1) PRIMARY KEY,
status varchar(15) NOT NULL)

CREATE TABLE SpartaFlight.dbo.Regions(
regionId int NOT NULL IDENTITY(1,1) PRIMARY KEY,
regionName varchar(30) NOT NULL)

CREATE TABLE SpartaFlight.dbo.Airports(
airportId varchar(5) NOT NULL PRIMARY KEY,
city varchar(40) NOT NULL,
country VARCHAR(40) NOT NULL,
regionId int FOREIGN KEY REFERENCES Regions )

CREATE TABLE SpartaFlight.dbo.Airlines(
airlineId int NOT NULL IDENTITY(1,1) PRIMARY KEY,
airlineName varchar(30) NOT NULL,
airlineCode varchar(3) NOT NULL,
regionId int FOREIGN KEY REFERENCES Regions)

CREATE TABLE SpartaFlight.dbo.Flights(
flightId int NOT NULL IDENTITY(1,1) PRIMARY KEY,
flightStatusId int FOREIGN KEY REFERENCES FlightStatuses,
flightDate datetime NOT NULL)

CREATE TABLE SpartaFlight.dbo.FlightDetails(
flightDetailsId int NOT NULL IDENTITY(1,1) PRIMARY KEY,
flightId int NOT NULL FOREIGN KEY REFERENCES Flights,
pilotId int FOREIGN KEY REFERENCES Pilots,
airlineId int NOT NULL FOREIGN KEY REFERENCES Airlines,
planeId int FOREIGN KEY REFERENCES Planes,
passengerNumber int,
flightDuration int,
archive bit)

CREATE TABLE SpartaFlight.dbo.FlightPaths(
flightId int NOT NULL FOREIGN KEY REFERENCES Flights(flightId),
airportId varchar(5) NOT NULL FOREIGN KEY REFERENCES Airports(airportId),
isDepartElseArrival bit NOT NULL,
PRIMARY KEY (flightId, airportId))



INSERT INTO SpartaFlight.dbo.Regions(regionName)
VALUES
('Africa/MiddleEast'),
('Asia/Pacific'),
('Europe'),
('Latin America/Caribbean'),
('North America')
INSERT INTO SpartaFlight.dbo.Airports(airportId, city, country,regionId)
VALUES
('CAN','Guangzhou','China',2),
('ATL','Atlanta, GA','United States',5),
('CTU','Chengdu','China',2),
('HND','Tokyo','Japan',2),
('DEL','Delhi','India',2),
('LAX','Los Angeles, CA','United States',5),
('IST','Arnavutköy, Istanbul','Turkey',1),
('CDG','Roissy-en-France','France',3),
('LHR','London','England',3),
('MEX','Mexico City','Mexico',4),
('SGN','Ho Chi Minh City','Vietnam',2),
('ICN','Incheon','South Korea',2),
('CJU','Jeju City','South Korea',2),
('GRU','Guarulhos','Brazil',4),
('AMS','Haarlemmermeer','Netherlands',3),
('SVO','Moscow','Russia',2),
('NKG','Nanjing','China',2),
('FRA','Frankfurt','Germany',3),
('MIA','Miami, FL','United States',5),
('GMP', 'Gangseo District','South Korea',2),
('MAD','Barajas','Spain',3),
('SAW','Pendik, Istanbul','Turkey',1),
('BKK','Bangkok','Thailand',2),
('JFK','New York, NY','United States',5),
('DME','Domodedovo','Russia',2),
('KBL','Kabul','Afghanistan',2),
('TIA','Tirana','Albania',3),
('ALG','Algiers','Algeria',1),
('BUG','Benguela','Angola',1),
('AXA','The Valley','Anguilla',4),
('EZE','Buenos Aires','Argentina',4),
('RSA','Santa Rosa','Argentina',4),
('EVN','Yerevan','Armenia',3),
('BNE','Brisbane','Australia',2),
('CTL','Charville, Qld.','Australia',2),
('MEL','Melbourne, Vic.','Australia',2),
('SYD','Sydney, N.S.W','Australia',2),
('ZSA','Cockburn Town, San Salvador Island','Bahamas',4),
('BGI','Bridgetown','Bardados',4),
('BRU','Brussels','Belgium',3),
('LPB','La Paz','Bolivia',4),
('RIO','Rio de Janeiro',' Brazil',4),
('BWN','Bandar Seri Begawan','Brunei',2),
('SOF','Sofia','Bulgaria',3),
('PNH','Phnom Penh','Cambodia',2),
('DLA','Douala','Cameroon',1),
('YOW','Ottawa, ON','Canada',5),
('YEG','Edmonton, AB','Canada',5),
('YTO','Toronto, ON','Canada',5),
('TCI','Tenerife Island','Canary Islands',1),
('NDJ','N Djamena','Chad',1),
('ESR','El Salvador','Chile',4),
('BJS','Beijing','China',2),
('CKG','Chongqing','China',2),
('HKG','Hong Kong','China',2),
('FOC','Fuzhou','China',2),
('SHA','Shanghai','China',2),
('SJO','San Jose','Costa Rica',4),
('HAV','Havana','Cuba',4),
('CPH','Copenhagen','Denmark',3),
('POP','Puerto Plata','Dominican Republic',4),
('UIO','Quito','Ecuador',4),
('CAI','Cairo','Egypt',1),
('BRS','Bristol','England',3),
('BHX','Birmingham','England',3),
('LGW','London','England',3),
('SUV','Suva','Fiji',2),
('OUL','Oulu','Finland',3),
('VAA','Vassa','Finland',3),
('BOD','Bordeaux','France',3),
('PAR','Paris','France',3),
('CGN','Cologne','Germany',3),
('MUC','Munich','Germany',3),
('ATH','Athens','Greece',3),
('RHO','Rhodes','Greece',3),
('GUM','Agana','Guam',2),
('FRS','Flores','Guatemala',4),
('PAP','Port-au-Prince','Haiti',4),
('BUD','Budapest','Hungary',3),
('BLR','Bangalore','India',2),
('JKT','Jakarta, Java','Indonesia',2),
('THR','Tehran','Iran',2),
('DUB','Dublin','Ireland',3),
('FLR','Florence','Italy',3),
('LIN','Milan','Italy',3),
('NAP','Naples','Italy',3),
('PSA','Pisa','Italy',3),
('ROM','Rome','Italy',3),
('VCE','Venice','Italy',3),
('OCJ','Ocho Rios','Jamaica',4),
('FUK','Fukuoka','Japan',2),
('FKS','Fukushima','Japan',2),
('OSA','Osaka','Japan',2),
('KZO','Kzyl Orda','Kazakhstan',2),
('VTE','Vientiane','Laos',4),
('BEY','Beirut','Lebanon',1),
('ROB','Monrovia','Liberia',3),
('LUX','Luxembourg','Luxembourg',3),
('SKP','Skopje','Macedonia',3),
('TNR','Antananarivo','Madagascar',1),
('PXO','Port Santo','Madeira',3),
('KUL','Kuala Lumpur','Malaysia',2),
('CME','Ciudad Del Carmen','Mexico',4),
('YAP','Yap','Micronesia',2),
('CMN','Casablance','Morocco',1),
('LUA','Lukaa','Nepal',2),
('AKL','Auckland','New Zealand',2),
('ZQN','Queenstown','New Zealand',2),
('WLG','Wellington','New Zealand',2),
('LOS','Lagos','Nigeria',1),
('FNJ','Pyongyang','North Korea',2),
('BFS','Belfast','North Ireland',3),
('HFT','Hammerfest','Norway',3),
('KHI','Karachi','Pakistan',2),
('PTY','Panama City','Panama',4),
('LIM','Lima','Peru',4),
('CEB','Cebu','Philipphines',2),
('MNL','Manila','Philipphines',2),
('KRK','Krakow','Poland',3),
('KTW','Katowice','Poland',3),
('LIS','Lisbon','Portugal',3),
('SJU','San Juan','Puerto Rica',4),
('PUS','Busan','South Korea',2),
('OTP','Bucharest','Romania',3),
('LED','St. Petersburg','Russia',2),
('ABZ','Aberdeen','Scotland',3),
('EDI','Edinburgh','Scotland',3),
('DKR','Dakar','Senegal',1),
('SIN','Singapore','Singapore',2),
('CPT','Capte Town','South Africa',2),
('ALC','Alicante','Spain',3),
('BCN','Barcelona','Spain',3),
('SDR','Santander','Spain',3),
('SXM','Philipsburg','St. Maarten',3),
('MTS','Manzini','Swaziland',1),
('MMA','Malmo','Sweden',3),
('STO','Stockholm','Sweden',3),
('GVA','Geneva','Switzerland',3),
('ZRH','Zurich','Switzerland',3),
('TPE','Taipei','Taiwan',2),
('CNX','Chiang Mai','Thailand',2),
('TUN','Tunis','Tunisia',1),
('EBB','Entebbe','Uganda',1),
('KBP','Kiev','Ukraine',3),
('AUH','Abu Dhabi','United Arab Emirates',1),
('MVD','Montevideo','Uruguay',3),
('BED','Bedford, MA','United States',5),
('CHI','Chicago, IL','United States',5),
('DAL','Dallax, TX','United States',5),
('DTT','Detroit, MI','United States',5),
('HOU','Houston, TX','United States',5),
('SAN','San Diego, CA','United States',5),
('ALW','Walla Walla, WA','United States',5),
('CWL','Cardiff','Wales',3),
('SAH','Sanaa','Yemen',1),
('HRE','Harare','Zimbabwe',1)

INSERT INTO SpartaFlight.dbo.Planes(planeModel, capacity)
VALUES
('Airbus A320',170),
('Boeing 777-300',550),
('Airbus A330',290),
('Boeing 787 Dreamliner',248),
('Boeing 747',416),
('Airbus A300',247),
('Boeing 737 Max', 172)

INSERT INTO SpartaFlight.dbo.Pilots(title, firstName, lastName, photoLink)
VALUES
('Mr.','Christopher','Rafferty','PilotPics/Chris Rafferty.jpg'),
('Mr.','Sabir','Nisar','PilotPics/Sabir Nisar.jpg'),
('Mr.','Atchuthan','Soorasangaram','PilotPics/Atchu Soorasangaram.jpg'),
('Mr.','Denzel','Estacio','PilotPics/Denzel Estacio.jpg'),
('Mr.','Keagan','Gonsalves','PilotPics/Keagan Gonsalves.png'),
('Mr.','Tak','Li','PilotPics/Tak Li.jpg'),
('Mr.','Jacob','Chan','PilotPics/Jacob Chan.jpg'),
('Mr.','Ronil','Goldenwalla','PilotPics/Ronil Goldenwalla.jpg'),
('Mr.','Samuel','Adedina','PilotPics/Samuel Adedina.jpg'),
('Mr.','Umar','Majid','PilotPics/Umar Majid.jpg'),
('Mr.','Nishant','Mandal','PilotPics/Default.jpg'),
('Mrs.','Cathy','French','PilotPics/Default.jpg'),
('Mrs.','Jane','Austen','PilotPics/Jane Austen.jpg'),
('Mrs.','Sakura','Haruno','PilotPics/Sakura Haruno.jpg'),
('Mrs.','Hinata','Hyuga','PilotPics/Hinata Hyuga.jpg'),
('Mrs.','Mary','Poppins','PilotPics/Mary Poppins.jpg'),
('Mrs.','Sarah','Connor','PilotPics/Sarah Connor.jpg'),
('Miss','Nina','Tucker','PilotPics/Nina Tucker.png'),
('Miss','Irina','Jelavić','PilotPics/Irina Jelavic.jpg'),
('Miss','Rosita','Espinosa','PilotPics/Rosita Espinosa.jpg'),
('Miss','Katniss','Everdeen','PilotPics/Katniss Everdeen.jpg'),
('Miss','Lisa','Simpson','PilotPics/Lisa Simpson.jpg'),
('Mrs.','Lara','Croft','PilotPics/Lara Croft.jpg')


INSERT INTO SpartaFlight.dbo.FlightStatuses(status)
VALUES
('Scheduled'),
('Delayed'),
('Departed'),
('Arrived'),
('Cancelled')

INSERT INTO SpartaFlight.dbo.Flights(flightStatusId,flightDate)
VALUES
(1, '2021-08-10 15:00:00'), --Scheduled
(1, '2021-09-12 07:00:00'),
(1, '2021-08-13 18:30:00'),
(1, '2021-10-20 22:45:00'),
(2, '2021-08-19 03:45:00'), --Delayed
(2, '2021-10-20 22:45:00'),
(2, '2021-08-11 09:15:00'),
(2, '2021-12-25 11:25:00'),
(3, '2021-08-03 16:25:00'), --Departed
(3, '2021-08-03 16:00:00'), 
(3, '2021-08-02 23:55:00'),
(3, '2021-08-03 11:05:00'),
(4, '2021-06-24 14:25:00'), --Arrived
(4, '2021-05-25 09:15:00'),
(4, '2021-04-20 13:00:00'),
(4, '2021-03-03 17:45:00'),
(5, '2021-01-01 12:45:00'), --Cancelled
(5, '2021-09-21 02:00:00'),
(5, '2021-10-30 04:15:00'),
(5, '2021-09-09 13:45:00')

INSERT INTO SpartaFlight.dbo.FlightPaths(flightId, airportId,isDepartElseArrival)
VALUES
(1,'ATL',1),
(1,'BJS',0),
(2,'CEB',1),
(2,'CKG',0),
(3,'LHR',1),
(3,'MAD',0),
(4,'PUS',1),
(4,'GMP',0),
(5,'KHI',1),
(5,'HND',0),
(6,'GMP',1),
(6,'OCJ',0),
(7,'SYD',1),
(7,'TPE',0),
(8,'YTO',1),
(8,'MNL',0),
(9,'MVD',1),
(9,'NAP',0),
(10,'RHO',1),
(10,'RIO',0),
(11,'LGW',1),
(11,'HKG',0),
(12,'FLR',1),
(12,'DAL',0),
(13,'CWL',1),
(13,'BRS',0),
(14,'CNX',1),
(14,'CTU',0),
(15,'DUB',1),
(15,'EBB',0),
(16,'ESR',1),
(16,'KUL',0),
(17,'MTS',1),
(17,'NKG',0),
(18,'OCJ',1),
(18,'ROB',0),
(19,'VCE',1),
(19,'SJO',0),
(20,'ZSA',1),
(20,'BUG',0)



INSERT INTO SpartaFlight.dbo.Airlines(airlineName,airlineCode, regionId)
VALUES
('Qatar Airways','QR',1),
('Delta Air Lines','DL',5),
('ANA','NH',2),
('KLM','WA',3),
('British Airways','BA',3),
('Turkish Airlines','TK',1),
('Asiana Airlines','OZ',2),
('Lufthansa','LH',2),
('United Airlines','UA',5),
('Cathay Pacific','CX',2),
('Emirates Airline','EK',1),
('Saudi Arabian Airlines','SV',1),
('AirAsia','AK',2),
('Air China','CA',2),
('China Airlines','CI',2),
('JAL Group','JL',2),
('Korean Air','KE',2),
('easyJet','U2',3),
('Ryanair','RK',3),
('Malaysia Airlines','MH',2),
('Singapore Airlines','SQ',2),
('Thai Airways International','TG',2),
('Vietnam Airlines','VN',2),
('Virgin Blue Airlines','VA',2),
('Air France KLM','AF',3),
('Thomson Airways','BY',3),
('Avianca','AV',4),
('LATAM Airlines','LA',4),
('Air Canada','AC',5),
('Alask Airlines','AS',5),
('American Airlines','AA',5),
('JetBlue Airways','B6',5),
('WestJet','WS',5)

INSERT INTO SpartaFlight.dbo.FlightDetails(flightId, pilotId, airlineId, planeId, passengerNumber, flightDuration, archive)
VALUES
(1,1,2,1,165,5,0),
(2,2,7,2,500,2,0),
(3,3,5,3,220,10,0),
(4,4,17,4,225,4,0),
(5,5,3,5,375,2,0),
(6,6,17,6,230,1,0),
(7,7,24,7,160,9,0),
(8,8,30,1,150,11,0),
(9,9,19,2,450,13,0),
(10,10,18,3,280,15,0),
(11,11,26,4,232,6,0),
(12,12,25,5,360,7,0),
(13,13,18,6,200,8,0),
(14,14,22,7,146,9,0),
(15,15,19,1,143,4,0),
(16,16,27,2,397,5,0),
(17,17,12,3,274,2,0),
(18,18,28,4,233,7,0),
(19,19,18,5,402,3,0),
(20,20,28,6,235,1,0)